# ğŸ“ Projeto TODO List Full Stack

Este projeto Ã© uma aplicaÃ§Ã£o **full stack** construÃ­da com:

- âœ… **Next.js** (frontend)
- âœ… **NestJS** (backend)
- âœ… **PostgreSQL** (banco de dados)
- âœ… **TypeORM** (ORM no backend)
- âœ… **NextAuth** (autenticaÃ§Ã£o)
- âœ… **Tailwind CSS** (estilizaÃ§Ã£o)
- âœ… **Docker Compose** (para o banco)

---

## ğŸš€ Funcionalidades

### Frontend

- PÃ¡gina inicial com lista de tarefas (TODO list).
- Login com JWT via NextAuth.
- PÃ¡gina de administraÃ§Ã£o para visualizar todas as tarefas (admin).
- CriaÃ§Ã£o, ediÃ§Ã£o, exclusÃ£o e conclusÃ£o de tarefas.
- Filtro de tarefas por usuÃ¡rio e status.
- PaginaÃ§Ã£o.
- PÃ¡gina de registro com validaÃ§Ã£o de senha e confirmaÃ§Ã£o.
- Controle de acesso por role (`user` ou `admin`).
- Toasts e loaders bonitos.

### Backend

- API NestJS com CRUD completo de tarefas.
- AutenticaÃ§Ã£o JWT com suporte a **refresh token**.
- ProteÃ§Ã£o de rotas via guards (`AuthGuard` e `RolesGuard`).
- Role-based access (somente admin pode acessar certas rotas).
- Repository pattern com TypeORM.
- IntegraÃ§Ã£o com PostgreSQL.
- Suporte a transaÃ§Ãµes usando `typeorm-transactional`.

---

## ğŸ’» Tecnologias

- **Frontend**: Next.js (v14+), React, Tailwind CSS, Axios, React Hot Toast.
- **Backend**: NestJS, TypeORM, PostgreSQL.
- **Banco de dados**: PostgreSQL.
- **AutenticaÃ§Ã£o**: JWT + NextAuth.
- **Infra**: Docker e Docker Compose.

---

## âš™ï¸ Setup do projeto

### ğŸ”Œ Clonar o repositÃ³rio

```bash
git clone https://github.com/OpusJoao/teste_nw
cd teste_nw
````

---

### âš™ï¸ Configurar variÃ¡veis de ambiente

#### Frontend

Crie um arquivo `.env` no diretÃ³rio do frontend:

```env
NEXT_PUBLIC_API_URL=http://host.docker.internal:3001
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="secret"
```

#### Backend

Crie um arquivo `.env` no diretÃ³rio do backend:

```env
DB_HOST=host.docker.internal
DB_PORT=5432
DB_USERNAME=postgres
DB_PASSWORD=root123
DB_NAME=todo
JWT_SECRET=sua_chave_jwt
JWT_EXPIRES_IN=360s
JWT_REFRESH_EXPIRES_IN=7d
```

---

### ğŸ³ Subir o projeto com Docker

Subir os containers:

```bash
docker-compose up -d
```
---
### ğŸš€ AplicaÃ§Ã£o Up!!!
A aplicaÃ§Ã£o estarÃ¡ de pÃ© no link [http://localhost:3000](http://localhost:3000)

---

### ğŸš€ Rodar o backend

```bash
cd api
npm install
npm run start:dev
```

---

### ğŸ’» Rodar o frontend

```bash
cd front
npm install
npm run dev
```

---

## ğŸ” AutenticaÃ§Ã£o

* Login via NextAuth usando JWT.
* Refresh token automÃ¡tico (ao expirar, tenta renovar).
* UsuÃ¡rios podem ser criados via pÃ¡gina de registro.
* A role `admin` permite acessar a pÃ¡gina `/admin`.

---

## ğŸ›¡ï¸ Roles e Guards

* UsuÃ¡rios comuns: podem gerenciar apenas suas prÃ³prias tarefas.
* Admin: podem visualizar todas as tarefas, filtrar por usuÃ¡rio/status.

---

## ğŸ“„ Estrutura dos diretÃ³rios

```
/api          â†’ Backend NestJS
/web          â†’ Frontend Next.js
/docker-compose.yml â†’ Banco Postgres, api, front
```

---

## ğŸ› ï¸ Comandos Ãºteis

### Backend

* `npm run start:dev` â†’ start em modo desenvolvimento
* `npm run build` â†’ build do backend
* `npm run start:prod` â†’ start em produÃ§Ã£o

### Frontend

* `npm run dev` â†’ start em modo desenvolvimento
* `npm run build` â†’ build do frontend
* `npm run start` â†’ start em produÃ§Ã£o

---

## ğŸ¨ Telas

### âœ… Lista de tarefas

* Visualizar, criar, editar, excluir, concluir.

### ğŸ”’ Login

* FormulÃ¡rio com username e senha.

### ğŸ†• Registro

* ValidaÃ§Ã£o forte de senha (mÃ­nimo 6 caracteres, nÃºmero, maiÃºscula, minÃºscula, confirmaÃ§Ã£o).

### ğŸ‘¨â€ğŸ’¼ Admin

* Tabela de tarefas com filtros por usuÃ¡rio e status.
* PaginaÃ§Ã£o.

---

## ğŸ’¬ ContribuiÃ§Ã£o

ContribuiÃ§Ãµes sÃ£o muito bem-vindas! Sinta-se Ã  vontade para abrir issues ou enviar PRs.

---

## ğŸ“„ LicenÃ§a

Este projeto estÃ¡ licenciado sob a licenÃ§a MIT.

---

## ğŸš€ Contato

Feito com ğŸ’™ por [JoÃ£o Ferreira](https://github.com/OpusJoao)

---
